import{a3 as m,r as c,s as V,v as h,W as e,f as w,T as _,N as v,U as F,b0 as k,b1 as y,ab as r,bk as S}from"./index-B-7oPZT8.js";import{I}from"./index-B5_Q_Nkk.js";const u=n=>(k("data-v-7b6ca256"),n=n(),y(),n),E={class:"usercenter-page"},P=u(()=>e("div",{class:"title-row"},[e("div",{class:"title-row-divider"}),e("div",{class:"title-row-title"}," 安全设置 "),_(" 修改密码 ")],-1)),x={class:"pwd-row"},N=u(()=>e("div",{class:"pwd-row-label"},"旧密码：",-1)),U={class:"pwd-row"},B=u(()=>e("div",{class:"pwd-row-label"},"新密码：",-1)),T={class:"pwd-row-strong"},z={class:"pwd-row"},M=u(()=>e("div",{class:"pwd-row-label"},"确认密码：",-1)),W={__name:"SafeSetting",setup(n){const d=c(""),a=c(""),i=c(""),s=c(0),f=()=>{switch(s.value){case 0:case 1:return"弱";case 2:return"中";case 3:case 4:return"强"}},g=async()=>{if(!d.value){r.warning("请输入旧密码");return}if(!a.value){r.warning("请输入新密码");return}if(!i.value){r.warning("请输入确认密码");return}if(a.value!==i.value){r.warning("确认密码与新密码不一致");return}await S({old_password:d.value,password:a.value}),r.success("密码修改成功")},b=()=>{if(a.value.length<1)s.value=0;else{var l=0;switch(/\d/.test(a.value)&&l++,/[a-z]/.test(a.value)&&l++,/[A-Z]/.test(a.value)&&l++,/\W/.test(a.value)&&l++,l){case 1:s.value=1;break;case 2:s.value=2;break;case 3:case 4:s.value=a.value.length<4?3:4;break}}return l};return(l,t)=>{const p=I;return V(),h("div",E,[P,e("div",x,[N,w(p,{class:"pwd-row-ipt",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=o=>d.value=o),placeholder:"输入旧密码",defaultVisibility:"false","allow-clear":""},null,8,["modelValue"])]),e("div",U,[B,w(p,{onInput:b,class:"pwd-row-ipt",modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value=o),placeholder:"输入新密码",defaultVisibility:"false","allow-clear":""},null,8,["modelValue"]),e("div",T,[_(" 密码强度： "),e("span",{class:"pwd-row-strong-tip",style:v({"background-color":s.value>=1?"#FF7200":"#E3F2EF"})},null,4),e("span",{class:"pwd-row-strong-tip",style:v({"background-color":s.value>=2?"#FF7200":"#E3F2EF"})},null,4),e("span",{class:"pwd-row-strong-tip",style:v({"background-color":s.value>=4?"#FF7200":"#E3F2EF"})},null,4),_(" "+F(f()),1)])]),e("div",z,[M,w(p,{class:"pwd-row-ipt",modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=o=>i.value=o),placeholder:"输入新密码",defaultVisibility:"false","allow-clear":""},null,8,["modelValue"])]),e("div",{class:"sure",onClick:g},"确认修改")])}}},D=m(W,[["__scopeId","data-v-7b6ca256"]]);export{D as default};
