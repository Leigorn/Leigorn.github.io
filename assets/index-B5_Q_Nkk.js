import{_ as ne,d as D,q as Ie,bl as we,aH as ke,bm as Be,g as ae,c as d,h as b,s as g,v as Ve,y as C,A as te,x as Le,r as _,t as H,u as Se,J as Ee,w as le,b as O,e as Oe,D as W,aF as Fe,aG as Q,m as Pe,f as m,S as j,I as oe,at as Te,T as ze,n as Me,aY as Re,bn as Ae,l as Ne,a0 as We,Q as I,z as E,L as Y}from"./index-B-7oPZT8.js";const je=D({name:"FeedbackIcon",components:{IconLoading:Ie,IconCheckCircleFill:we,IconExclamationCircleFill:ke,IconCloseCircleFill:Be},props:{type:{type:String}},setup(e){const a=ae("feedback-icon");return{cls:d(()=>[a,`${a}-status-${e.type}`])}}});function De(e,a,t,c,r,v){const u=b("icon-loading"),f=b("icon-check-circle-fill"),l=b("icon-exclamation-circle-fill"),s=b("icon-close-circle-fill");return g(),Ve("span",{class:Le(e.cls)},[e.type==="validating"?(g(),C(u,{key:0})):e.type==="success"?(g(),C(f,{key:1})):e.type==="warning"?(g(),C(l,{key:2})):e.type==="error"?(g(),C(s,{key:3})):te("v-if",!0)],2)}var He=ne(je,[["render",De]]);const Ke={key:"Enter",code:"Enter"},ln={key:"Backspace",code:"Backspace"};function Ue(e,a){const t={};return a.forEach(c=>{const r=c;c in e&&(t[r]=e[r])}),t}function qe(e){const a=_();function t(){if(!e.value)return;const{selectionStart:r,selectionEnd:v,value:u}=e.value;if(r==null||v==null)return;const f=u.slice(0,Math.max(0,r)),l=u.slice(Math.max(0,v));a.value={selectionStart:r,selectionEnd:v,value:u,beforeTxt:f,afterTxt:l}}function c(){if(!e.value||!a.value)return;const{value:r}=e.value,{beforeTxt:v,afterTxt:u,selectionStart:f}=a.value;if(!v||!u||!f)return;let l=r.length;if(r.endsWith(u))l=r.length-u.length;else if(r.startsWith(v))l=v.length;else{const s=v[f-1],w=r.indexOf(s,f-1);w!==-1&&(l=w+1)}e.value.setSelectionRange(l,l)}return[t,c]}var Ge=Object.defineProperty,X=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,Z=(e,a,t)=>a in e?Ge(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,ee=(e,a)=>{for(var t in a||(a={}))Je.call(a,t)&&Z(e,t,a[t]);if(X)for(var t of X(a))Qe.call(a,t)&&Z(e,t,a[t]);return e},Ye=D({name:"Input",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},size:{type:String},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:String,maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},wordLength:{type:Function},wordSlice:{type:Function},inputAttrs:{type:Object},type:{type:String,default:"text"}},emits:{"update:modelValue":e=>!0,input:(e,a)=>!0,change:(e,a)=>!0,pressEnter:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:a,slots:t,attrs:c}){const{size:r,disabled:v,error:u,modelValue:f}=H(e),l=ae("input"),s=_(),{mergedSize:w,mergedDisabled:k,mergedError:re,feedback:B,eventHandlers:$}=Se({size:r,disabled:v,error:u}),{mergedSize:K}=Ee(w),[se,ue]=qe(s),F=_(e.defaultValue),h=d(()=>{var n;return(n=e.modelValue)!=null?n:F.value});le(f,n=>{(O(n)||Oe(n))&&(F.value="")});let P=h.value;const T=_(!1),ie=d(()=>e.allowClear&&!k.value&&!!h.value),V=_(!1),U=_(""),x=n=>{var o;return Pe(e.wordLength)?e.wordLength(n):(o=n.length)!=null?o:0},L=d(()=>x(h.value)),q=d(()=>re.value||!!(W(e.maxLength)&&e.maxLength.errorOnly&&L.value>p.value)),z=d(()=>W(e.maxLength)&&!!e.maxLength.errorOnly),p=d(()=>W(e.maxLength)?e.maxLength.length:e.maxLength),ce=d(()=>{const n=x("a");return Math.floor(p.value/n)}),M=n=>{var o,i;p.value&&!z.value&&x(n)>p.value&&(n=(i=(o=e.wordSlice)==null?void 0:o.call(e,n,p.value))!=null?i:n.slice(0,ce.value)),F.value=n,a("update:modelValue",n)},ve=n=>{s.value&&n.target!==s.value&&(n.preventDefault(),s.value.focus())},R=(n,o)=>{var i,y;n!==P&&(P=n,a("change",n,o),(y=(i=$.value)==null?void 0:i.onChange)==null||y.call(i,o))},de=n=>{var o,i;T.value=!0,P=h.value,a("focus",n),(i=(o=$.value)==null?void 0:o.onFocus)==null||i.call(o,n)},fe=n=>{var o,i;T.value=!1,R(h.value,n),a("blur",n),(i=(o=$.value)==null?void 0:o.onBlur)==null||i.call(o,n)},A=n=>{var o,i,y;const{value:N,selectionStart:$e,selectionEnd:xe}=n.target;if(n.type==="compositionend"){if(V.value=!1,U.value="",p.value&&!z.value&&L.value>=p.value&&x(N)>p.value&&$e===xe){S();return}M(N),a("input",N,n),(i=(o=$.value)==null?void 0:o.onInput)==null||i.call(o,n),S()}else V.value=!0,U.value=h.value+((y=n.data)!=null?y:"")},S=()=>{se(),Me(()=>{s.value&&h.value!==s.value.value&&(s.value.value=h.value,ue())})},pe=n=>{var o,i;const{value:y}=n.target;if(!V.value){if(p.value&&!z.value&&L.value>=p.value&&x(y)>p.value&&n.inputType==="insertText"){S();return}M(y),a("input",y,n),(i=(o=$.value)==null?void 0:o.onInput)==null||i.call(o,n),S()}},me=n=>{M(""),R("",n),a("clear",n)},he=n=>{const o=n.key||n.code;!V.value&&o===Ke.key&&(R(h.value,n),a("pressEnter",n))},ye=d(()=>[`${l}-outer`,`${l}-outer-size-${K.value}`,{[`${l}-outer-has-suffix`]:!!t.suffix,[`${l}-outer-disabled`]:k.value}]),ge=d(()=>[`${l}-wrapper`,{[`${l}-error`]:q.value,[`${l}-disabled`]:k.value,[`${l}-focus`]:T.value}]),_e=d(()=>[l,`${l}-size-${K.value}`]),G=d(()=>Fe(c,Q)),be=d(()=>Ue(c,Q)),Ce=d(()=>{const n=ee(ee({},be.value),e.inputAttrs);return q.value&&(n["aria-invalid"]=!0),n}),J=n=>{var o;return m("span",j({class:ge.value,onMousedown:ve},n?void 0:G.value),[t.prefix&&m("span",{class:`${l}-prefix`},[t.prefix()]),m("input",j({ref:s,class:_e.value,value:h.value,type:e.type,placeholder:e.placeholder,readonly:e.readonly,disabled:k.value,onInput:pe,onKeydown:he,onFocus:de,onBlur:fe,onCompositionstart:A,onCompositionupdate:A,onCompositionend:A},Ce.value),null),ie.value&&m(oe,{prefix:l,class:`${l}-clear-btn`,onClick:me},{default:()=>[m(Te,null,null)]}),(t.suffix||!!e.maxLength&&e.showWordLimit||!!B.value)&&m("span",{class:[`${l}-suffix`,{[`${l}-suffix-has-feedback`]:B.value}]},[!!e.maxLength&&e.showWordLimit&&m("span",{class:`${l}-word-limit`},[L.value,ze("/"),p.value]),(o=t.suffix)==null?void 0:o.call(t),!!B.value&&m(He,{type:B.value},null)])])};return{inputRef:s,render:()=>t.prepend||t.append?m("span",j({class:ye.value},G.value),[t.prepend&&m("span",{class:`${l}-prepend`},[t.prepend()]),J(!0),t.append&&m("span",{class:`${l}-append`},[t.append()])]):J()}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});function Xe(e){const a=_(e);return[a,c=>{a.value=c}]}function Ze(e,a){const{value:t}=H(a),[c,r]=Xe(O(t.value)?e:t.value);return le(t,u=>{O(u)&&r(void 0)}),[d(()=>O(t.value)?c.value:t.value),r,c]}const en=D({name:"InputPassword",components:{IconEye:Re,IconEyeInvisible:Ae,AIconHover:oe,AInput:Ye},props:{visibility:{type:Boolean,default:void 0},defaultVisibility:{type:Boolean,default:!0},invisibleButton:{type:Boolean,default:!0}},emits:["visibility-change","update:visibility"],setup(e,{emit:a}){const{visibility:t,defaultVisibility:c}=H(e),r=_(),v=()=>{l(!u.value)},[u,f]=Ze(c.value,Ne({value:t})),l=s=>{s!==u.value&&(a("visibility-change",s),a("update:visibility",s),f(s))};return{inputRef:r,mergedVisible:u,handleInvisible:v}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function nn(e,a,t,c,r,v){const u=b("icon-eye"),f=b("icon-eye-invisible"),l=b("a-icon-hover"),s=b("a-input");return g(),C(s,{ref:"inputRef",type:e.mergedVisible?"password":"text"},We({_:2},[e.$slots.prepend?{name:"prepend",fn:I(()=>[E(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:I(()=>[E(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:I(()=>[e.invisibleButton?(g(),C(l,{key:0,onClick:e.handleInvisible,onMousedown:a[0]||(a[0]=Y(()=>{},["prevent"])),onMouseup:a[1]||(a[1]=Y(()=>{},["prevent"]))},{default:I(()=>[e.mergedVisible?(g(),C(f,{key:1})):(g(),C(u,{key:0}))]),_:1},8,["onClick"])):te("v-if",!0),E(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:I(()=>[E(e.$slots,"append")])}:void 0]),1032,["type"])}var on=ne(en,[["render",nn]]);export{ln as B,Ke as E,He as F,on as I,Ye as _,qe as a,Ue as p,Ze as u};
